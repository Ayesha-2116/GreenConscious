{% extends 'base.html' %}

{% block title %}Discussion{% endblock %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'MainPage/style.css' %}">
<style>
    .container {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }
    .header, .main, .post-list, .post-item {
        width: 100%;
    }
    .post-item {
        margin-bottom: 20px;
        border-bottom: 1px solid #ccc;
        padding-bottom: 10px;
    }
</style>
{% endblock %}

{% block navbar-content%}
    <a href="{% url 'MainPage:main_page' %}">
        <div class="name">Green Conscious</div>
    </a>
    {% if userLoggedIn %}
        <div class="login-register">
        <a href="{% url 'create_post' %}">
            <button>Create Post</button>
        </a>
         <a href="{% url 'MainPage:main_page' %}">
            <button>Home</button>
        </a>
    </div>
    {% else %}
        <div class="login-register">
        <a href="{% url 'Login_SignUp:loginPage' %}">
            <button>Log In</button>
        </a>
         <a href="{% url 'Login_SignUp:signupPage' %}">
            <button>Sign Up</button>
        </a>
    </div>
    {% endif %}
{%  endblock %}

{% block content %}
<div class="container">
    <header class="header">
        <br>
        <h1 class="heading">Discussion</h1>
    </header>
    <main class="main">
        <h2>Posts:</h2>
        <ul class="post-list">
            {% for post in posts %}
                <li class="post-item">
                    <article class="post">
                        <header class="post-header">
                            <h3 class="post-title">{{ post.title }}</h3>
                        </header>
                        <section class="post-content">
                            <p>{{ post.content }}</p>
                        </section>
                        <footer class="post-footer">
                            <p><strong>Author:</strong> {{ post.author.username }}</p>
                            <p><strong>Created At:</strong> {{ post.created_at }}</p>
                        </footer>
                    </article>
                </li>
            {% endfor %}
        </ul>
    </main>
</div>
{% endblock %}
